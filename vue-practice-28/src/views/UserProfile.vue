<template>
  <div class="user-profile">
    <h1>üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h1>
    
    <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞ -->
    <div v-if="$route.params.id" class="user-info">
      <h2>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è #{{ $route.params.id }}</h2>
      <p>–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
    </div>
    
    <div v-else class="current-user">
      <h2>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h2>
      <p>Email: user@example.com</p>
      <p>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 2024-01-01</p>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
    <nav class="profile-tabs">
      <router-link to="/profile/info" class="tab">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</router-link>
      <router-link to="/profile/posts" class="tab">–ü–æ—Å—Ç—ã</router-link>
      <router-link to="/profile/friends" class="tab">–î—Ä—É–∑—å—è</router-link>
    </nav>

    <!-- –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã -->
    <div class="tab-content">
      <router-view></router-view>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <div class="navigation-buttons">
      <button @click="goBack" class="btn">–ù–∞–∑–∞–¥</button>
      <button @click="goHome" class="btn">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
      <button @click="goToSettings" class="btn">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </div>
  </div>
</template>

<script>
import { useRouter } from 'vue-router'

export default {
  name: 'UserProfile',
  
  setup() {
    const router = useRouter()

    const goBack = () => {
      router.back()
    }

    const goHome = () => {
      router.push('/')
    }

    const goToSettings = () => {
      router.push('/settings')
    }

    return {
      goBack,
      goHome,
      goToSettings
    }
  },

  // –•—É–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  beforeRouteEnter(to, from, next) {
    console.log('–ó–∞—Ö–æ–¥–∏–º –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
    next()
  },

  beforeRouteUpdate(to, from, next) {
    console.log('–û–±–Ω–æ–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞ –ø—Ä–æ—Ñ–∏–ª—è')
    next()
  }
}
</script>

<style scoped>
.user-profile {
  max-width: 800px;
  margin: 0 auto;
}

.profile-tabs {
  display: flex;
  gap: 10px;
  margin: 20px 0;
  border-bottom: 2px solid #eee;
}

.tab {
  padding: 10px 20px;
  text-decoration: none;
  color: #333;
  border-bottom: 3px solid transparent;
}

.tab.router-link-active {
  border-bottom-color: #007bff;
  color: #007bff;
}

.tab-content {
  padding: 20px;
  border: 1px solid #eee;
  border-radius: 5px;
  min-height: 200px;
}

.navigation-buttons {
  margin-top: 20px;
  display: flex;
  gap: 10px;
}
</style>